{"version":3,"file":"static/webpack/static/development/pages/dash.js.7c4871b8c1296c3bc151.hot-update.js","sources":["webpack:///./components/sidebar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport stringify from 'fast-json-stable-stringify'\n\nimport { saveProfileData } from '../actions/profile'\n\nconst Sidebar = ({ \n\tstyle,\n\tname, setName, \n\tdescription, setDescription, \n\tavatarUrl, setAvatarUrl, \n\tavatarFile, setAvatarFile, \n\taccountList, setAccountList, \n\ttheme, setTheme,\n\tthemeList, setThemeList,\n\tsubmit,\n\tshowProfileSidebar,\n\ttoggleProfileSidebar\n}) => {\n\tconst dispatch = useDispatch()\n\tconst profile = useSelector(state => state.profile)\n\tconst [showNestedSidebar, setShowNestedSidebar] = useState('')\n\n\tconst readFileAsUrl = (file) => {\n\t\tconst temporaryFileReader = new FileReader()\n\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\ttemporaryFileReader.onload = () => {\n\t\t\t\tresolve(temporaryFileReader.result)\n\t\t\t}\n\t\t\ttemporaryFileReader.readAsDataURL(file)\n\t\t})\n\t}\n\n\tconst updateAvatarUrl = async (files) => {\n    if(files.length > 0) {\n      const imgUrl = await readFileAsUrl(files[0])\n      setAvatarUrl(imgUrl)\n      setAvatarFile(files[0])\n    }\n  }\n\n\tconst back = () => {\n\t\tconst newProfile = {\n\t\t\tname: name,\n\t\t\tdescription: description,\n\t\t\tavatarUrl: avatarUrl,\n\t\t\taccountList: accountList,\n\t\t\ttheme: theme\n\t\t}\n\t\t// if data is not changed, allow user to navigate to main sidebar\n\t\tif(stringify(profile) === stringify(newProfile)) {\n\t\t\tsetShowNestedSidebar(false)\n\t\t}\n\t\t// else if data is changed, alert user to save or discard their change\n\t\telse {\n\t\t\tconst x = confirm('There are some changed data that are not saved')\n\t\t\tif(x) {\n\t\t\t\tdispatch(saveProfileData(profile))\n\t\t\t\tsetShowNestedSidebar(false)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst setUserAccount = (service, identifier) => {\n\t\tconst idx = accountList.findIndex(acc => acc.service === service)\n\t\t// if identifier is an empty string remove idx\n\t\tif(identifier.length === 0) {\n\t\t\tconst newAccountList = accountList.slice(0)\n\t\t\tnewAccountList.splice(idx, 1)\n\n\t\t\tsetAccountList(newAccountList)\n\t\t}\n\t\telse {\n\t\t\t// update the data is service already exist\n\t\t\tif(idx >= 0) {\n\t\t\t\tconst newAccountList = accountList.slice(0)\n\t\t\t\tnewAccountList[idx].identifier = identifier\n\t\n\t\t\t\tsetAccountList(newAccountList)\n\t\t\t}\n\t\t\t// create the data is service not exist\n\t\t\telse {\n\t\t\t\tconst newAccountList = accountList.slice(0)\n\t\t\t\tnewAccountList.push({\n\t\t\t\t\tservice: service,\n\t\t\t\t\tidentifier: identifier\n\t\t\t\t})\n\t\n\t\t\t\tsetAccountList(newAccountList)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst getAccount = (service) => {\n\t\tconst idx = accountList.findIndex(acc => acc.service === service)\n\t\tif(idx >= 0) {\n\t\t\treturn accountList[idx].identifier\n\t\t}\n\t\treturn ''\n\t}\n\n\tconst isSelectedTheme = (name) => {\n\t\tif(theme.name === name) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"fixed top-0 right-0 bottom-0 w-64 bg-white shadow-xl\" style={{\n\t\t\t\ttransform: `translate3d(${showProfileSidebar ? 0 : `100%`}, 0, 0)`,\n\t\t\t\ttransition: `all .3s`\n\t\t\t}}>\n\t\t\t\t<div className=\"absolute z-10\" onClick={() => toggleProfileSidebar()} >\n\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23ZM12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM8.70711 16.7071L12 13.4142L15.2929 16.7071L16.7071 15.2929L13.4142 12L16.7071 8.70711L15.2929 7.29289L12 10.5858L8.70711 7.29289L7.29289 8.70711L10.5858 12L7.29289 15.2929L8.70711 16.7071Z\" fill=\"black\"/>\n</svg>\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"relative h-full w-full overflow-x-hidden overflow-y-scroll\">\n\t\t\t\t\t<div className=\"absolute top-0 right-0 bottom-0 w-64 bg-white px-4\" style={{\n\t\t\t\t\t\ttransform: `translate3d(${!showNestedSidebar ? 0 : `-100%`}, 0, 0)`,\n\t\t\t\t\t\ttransition: `all .3s`\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"h-10 flex items-center\">\n\t\t\t\t\t\t\t<p className=\"text-xl text-gray-900 font-semibold\">Edit Your Site</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"py-8\">\n\t\t\t\t\t\t\t<div onClick={() => setShowNestedSidebar('profile')} className=\"h-12 flex items-center justify-between border-solid border-b border-t border-gray-300\">\n\t\t\t\t\t\t\t\t<p className=\"text-lg text-gray-800 w-1/2 font-medium\">Profile </p>\n\t\t\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<path fill=\"#a0aec0\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.58586 8.00001L4.29297 2.70712L5.70718 1.29291L12.4143 8.00001L5.70718 14.7071L4.29297 13.2929L9.58586 8.00001Z\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div onClick={() => setShowNestedSidebar('social')}  className=\"h-12 flex items-center justify-between border-solid border-b border-gray-300\">\n\t\t\t\t\t\t\t\t<p className=\"text-lg text-gray-800 w-1/2 font-medium\">Social</p>\n\t\t\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<path fill=\"#a0aec0\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.58586 8.00001L4.29297 2.70712L5.70718 1.29291L12.4143 8.00001L5.70718 14.7071L4.29297 13.2929L9.58586 8.00001Z\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div onClick={() => setShowNestedSidebar('theme')}  className=\"h-12 flex items-center justify-between border-solid border-b border-gray-300\">\n\t\t\t\t\t\t\t\t<p className=\"text-lg text-gray-800 w-1/2 font-medium\">Theme</p>\n\t\t\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<path fill=\"#a0aec0\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.58586 8.00001L4.29297 2.70712L5.70718 1.29291L12.4143 8.00001L5.70718 14.7071L4.29297 13.2929L9.58586 8.00001Z\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"absolute top-0 right-0 bottom-0 w-64 bg-white px-4\" style={{\n\t\t\t\t\t\ttransform: `translate3d(${showNestedSidebar ? 0 : `100%`}, 0, 0)`,\n\t\t\t\t\t\ttransition: `all .3s`\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"flex h-10 items-center justify-between\">\n\t\t\t\t\t\t\t<div onClick={() => back()}>\n\t\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.707 13.2929L10.2928 14.7071L3.58569 8.00001L10.2928 1.29291L11.707 2.70712L6.41412 8.00001L11.707 13.2929Z\" fill=\"black\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div onClick={(e) => submit(e)}>\n\t\t\t\t\t\t\t\t<button className=\"text-md px-2 py-1 border rounded\">Save</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowNestedSidebar === 'profile' && (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<label>Avatar</label>\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"absolute inset-0 opacity-0 w-full\" type=\"file\" onChange={(e) => updateAvatarUrl(e.target.files)} />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-solid border rounded-sm border-gray-300\" style={{\n\t\t\t\t\t\t\t\t\t\t\t\theight: `200px`,\n\t\t\t\t\t\t\t\t\t\t\t\twidth: `100%`,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundSize: `cover`,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundPosition: `center`,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${avatarUrl})`\n\t\t\t\t\t\t\t\t\t\t\t}}></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"px-3 py-1 flex flex-col border-solid border rounded-sm border-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-light text-gray-600\">Name</label>\n\t\t\t\t\t\t\t\t\t\t\t<input placeholder=\"Your name\" className=\"focus:outline-none\" type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"px-3 py-1 flex flex-col border-solid border rounded-sm border-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-light text-gray-600\">Description</label>\n\t\t\t\t\t\t\t\t\t\t\t<textarea placeholder=\"Tell the world about yourself\" rows={8} className=\"focus:outline-none resize-none\" value={description} onChange={(e) => setDescription(e.target.value)} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowNestedSidebar === 'social' && (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"px-3 py-1 flex flex-col border-solid border rounded-sm border-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-light text-gray-600\">facebook.com/</label>\n\t\t\t\t\t\t\t\t\t\t\t<input placeholder=\"username\" className=\"focus:outline-none\" type=\"text\" value={getAccount('facebook')} onChange={(e) => setUserAccount('facebook', e.target.value)} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"px-3 py-1 flex flex-col border-solid border rounded-sm border-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-light text-gray-600\">twitter.com/</label>\n\t\t\t\t\t\t\t\t\t\t\t<input placeholder=\"username\" className=\"focus:outline-none\" type=\"text\" value={getAccount('twitter')} onChange={(e) => setUserAccount('twitter', e.target.value)} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"px-3 py-1 flex flex-col border-solid border rounded-sm border-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-xs font-light text-gray-600\">instagram.com/</label>\n\t\t\t\t\t\t\t\t\t\t\t<input placeholder=\"username\" className=\"focus:outline-none\" type=\"text\" value={getAccount('instagram')} onChange={(e) => setUserAccount('instagram', e.target.value)} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tshowNestedSidebar === 'theme' && (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthemeList.map(theme => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* onclick change theme */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div onClick={() => setTheme(theme)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>{theme.name}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"relative border-solid border rounded-sm border-gray-300\" style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: `200px`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: `100%`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundSize: `cover`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundPosition: `center`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${avatarUrl})`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ isSelectedTheme(theme.name) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center\" style={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: `rgba(0,0,0,0.3)`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-gray-200\">Selected</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default Sidebar\n\t\t\t"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AALA;AAQA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAMA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAQA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AAOA;AAUA;AACA;AACA;;;;A","sourceRoot":""}